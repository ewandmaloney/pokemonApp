<h2 class="text-center">Register</h2>

<div class="d-flex justify-content-center">
    <div class="card" style="width: 38rem;">
        <form [formGroup]="signupForm" (ngSubmit)="onSubmit(signupForm)">
            <div class="card-body">
                <div class="form-group">
                    <app-input-field formControlName="name" [label]="'name'" [type]="'text'"
                        [placeholder]="'Enter name'" [submitted]="submitted" [errors]="signupForm.get('name')?.errors">
                    </app-input-field>
                </div>
                <div class="form-group mt-2">
                    <app-input-field formControlName="phone_number" [label]="'phone number'" [type]="'number'"
                        [placeholder]="'Enter phone number'" [errors]="signupForm.get('phone_number')?.errors"
                        [submitted]="submitted">
                    </app-input-field>
                </div>
                <div class="form-group mt-2">
                    <app-input-field formControlName="email" [label]="'email'" [type]="'email'"
                        [placeholder]="'Enter email'" [submitted]="submitted"
                        [errors]="signupForm.get('email')?.errors">
                    </app-input-field>

                </div>
                <div class="form-group mt-2">
                    <app-radio-field formControlName="gender" [label]="'Gender'" [type]="'radio'"
                        [submitted]="submitted" [gender]="gender"
                        [errors]="signupForm.get('gender')?.errors"></app-radio-field>
                    <!-- <span *ngIf="submitted && signupForm.get('gender')?.errors" class="text-danger">Gender
                        is required</span> -->
                </div>
                <div class="form-group mt-2">
                    <app-select-field formControlName="language" [language]="language" [label]="'language'"
                        [submitted]="submitted" [errors]="signupForm.get"
                        [errors]="signupForm.get('language')?.errors"></app-select-field>
                    <!-- <label class="fw-bolder" for="language">Language</label>
                    <select name="language" class="form-select" id="language" formControlName="language">
                        <option selected value="">--- Select language ---</option>
                        <option *ngFor="let item of language">
                            {{item}}</option>
                    </select> -->
                    <!-- <span *ngIf="submitted && signupForm.get('language')?.errors?.['required']"
                        class="text-danger">Language
                        is required</span> -->
                </div>
                <div class="form-group mt-2">
                    <app-input-field formControlName="password" [label]="'password'" [type]="'password'"
                        [placeholder]="'Enter password'" [submitted]="submitted"
                        [errors]="signupForm.get('password')?.errors">

                    </app-input-field>

                </div>
                <div class="form-group mt-2">
                    <app-input-field formControlName="password_confirmation" [label]="'password confirmation'"
                        [type]="'password'" [placeholder]="'Enter password confirmation'" [submitted]="submitted"
                        [errors]="signupForm.get('password_confirmation')?.errors"
                        [passwordMismatch]="signupForm.get('password')?.value != signupForm.get('password_confirmation')?.value && signupForm.get('password_confirmation')?.touched">
                    </app-input-field>
                </div>

                <div class="d-flex justify-content-around mt-2">
                    <p>Already have an account?</p>
                    <p class="text-primary" style="cursor: pointer;" routerLink="/login">Click here</p>
                </div>

                <div class="d-flex justify-content-center">
                    <button type="submit" *ngIf="!loading" class="btn btn-primary w-100 mt-2">Submit</button>
                </div>


                <button *ngIf="loading" class="btn btn-primary" type="button" disabled>
                    <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
                    <span role="status">Loading...</span>
                </button>
            </div>
        </form>
        {{signupForm.value | json}}
    </div>
</div>